<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Thi·ªáp Ch√∫c M·ª´ng 20/10</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100dvh;
    background: linear-gradient(120deg, #fce4ec, #f8bbd0);
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    -webkit-user-select: none;
    user-select: none;
  }

  .scene {
    perspective: 1000px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .card {
    width: min(90vw, 400px);
    height: min(70vh, 550px);
    position: relative;
    transform-style: preserve-3d;
    transition: transform 1.2s ease;
    cursor: pointer;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    background: #fff0f6;
  }

  .card.open { transform: rotateY(180deg); }

  .front, .inside {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 20px;
  }

  .front {
    background: linear-gradient(145deg, #ff8fab, #ffb3c6);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white;
    padding: 20px;
  }

  .front h1 {
    font-size: clamp(26px, 7vw, 40px);
    margin: 0 0 8px 0;
  }

  .front p {
    font-size: clamp(14px, 4vw, 18px);
    opacity: 0.95;
    margin: 0;
  }

  .hint {
    position: absolute;
    bottom: 12px;
    width: 100%;
    text-align: center;
    font-size: clamp(11px, 3vw, 15px);
    color: rgba(255,255,255,0.9);
    animation: blink 1.2s infinite alternate;
  }

  @keyframes blink {
    from { opacity: 1; }
    to { opacity: 0.3; }
  }

  .inside {
    background: #fff0f6;
    transform: rotateY(180deg);
    padding: 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: #ffb3c6 #fff0f6;
  }

  .inside h2 {
    text-align: center;
    color: #d63384;
    font-size: clamp(18px, 5vw, 26px);
    margin-bottom: 10px;
  }

  .wishes {
    font-size: clamp(13px, 3.5vw, 16px);
    color: #5a3d6e;
    white-space: pre-line;
    line-height: 1.6;
    text-align: center;
  }

  /* üíñ Tim bay v√† r∆°i */
  .heart, .falling-heart {
    position: fixed;
    width: 18px;
    height: 18px;
    background: pink;
    transform: rotate(45deg);
    opacity: 0.8;
    z-index: 5;
    pointer-events: none;
  }

  .heart::before, .heart::after,
  .falling-heart::before, .falling-heart::after {
    content: "";
    position: absolute;
    width: inherit;
    height: inherit;
    background: inherit;
    border-radius: 50%;
  }

  .heart::before { top: -9px; left: 0; }
  .heart::after { left: -9px; top: 0; }

  .falling-heart::before { top: -8px; left: 0; }
  .falling-heart::after { left: 8px; top: 0; }

  @keyframes floatUp {
    0% { transform: translateY(0) scale(1) rotate(45deg); opacity: 1; }
    100% { transform: translateY(-200px) scale(1.6) rotate(45deg); opacity: 0; }
  }

  @keyframes heartFall {
    0% { transform: translateY(0) rotate(45deg) scale(1); opacity: 1; }
    100% { transform: translateY(100vh) rotate(360deg) scale(0.6); opacity: 0; }
  }

  .fade-in {
    animation: fadeIn 0.7s forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  audio { display: none; }

  /* üì± T·ªëi ∆∞u cho m√†n c·ª±c nh·ªè */
  @media (max-width: 380px) {
    .card { height: 65vh; width: 92vw; }
    .inside { padding: 12px; }
    .front h1 { font-size: 24px; }
    .front p { font-size: 13px; }
  }
</style>
</head>
<body>

<div class="scene">
  <div class="card" id="card">
    <div class="front">
      <h1>üå∏ 20/10 üå∏</h1>
      <p>Ch√∫c m·ª´ng Ng√†y Ph·ª• N·ªØ Vi·ªát Nam</p>
      <div class="hint">(Ch·∫°m ƒë·ªÉ m·ªü thi·ªáp üíå)</div>
    </div>
    <div class="inside">
      <h2>G·ª≠i ƒë·∫øn c√¥ g√°i tuy·ªát v·ªùi üíñ</h2>
      <div class="wishes" id="wishes"></div>
    </div>
  </div>
</div>

<audio id="bgm" src="codoidieu.mp3"></audio>

<script>
  const card = document.getElementById("card");
  const wishesContainer = document.getElementById("wishes");
  const bgm = document.getElementById("bgm");
  const wishesText = [
    "Ch√∫c b·∫°n lu√¥n xinh ƒë·∫πp, r·∫°ng r·ª° v√† tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng m·ªói ng√†y!",
    "Mong b·∫°n lu√¥n ƒë∆∞·ª£c y√™u th∆∞∆°ng, tr√¢n tr·ªçng v√† h·∫°nh ph√∫c b√™n nh·ªØng ng∆∞·ªùi th√¢n y√™u.",
    "C·∫£m ∆°n b·∫°n ƒë√£ l√†m th·∫ø gi·ªõi n√†y tr·ªü n√™n d·ªãu d√†ng v√† ƒë√°ng y√™u h∆°n.",
    "Ch√∫c b·∫°n c√≥ m·ªôt ng√†y 20/10 ng·∫≠p tr√†n hoa, qu√† v√† ti·∫øng c∆∞·ªùi.",
    "Mong m·ªçi ∆∞·ªõc m∆° c·ªßa b·∫°n s·ªõm tr·ªü th√†nh hi·ªán th·ª±c, v√† m·ªói ng√†y ƒë·ªÅu ƒë√°ng s·ªëng!",
    "Ch√∫c b·∫°n m√£i m·∫°nh m·∫Ω, t·ª± tin v√† lu√¥n t·ªèa s√°ng nh∆∞ ch√≠nh con ng∆∞·ªùi b·∫°n.",
    "Ch√∫c cho nh·ªØng ng∆∞·ªùi ph·ª• n·ªØ xung quanh ta lu√¥n ƒë∆∞·ª£c b√¨nh an, vui v·∫ª v√† r·∫°ng ng·ªùi h·∫°nh ph√∫c.",
    "Ch√∫c b·∫°n lu√¥n gi·ªØ trong tim ng·ªçn l·ª≠a y√™u th∆∞∆°ng, l√≤ng bao dung v√† ni·ªÅm tin v√†o cu·ªôc s·ªëng.",
    "Ch√∫c b·∫°n th·∫≠t nhi·ªÅu s·ª©c kh·ªèe ƒë·ªÉ theo ƒëu·ªïi ƒëi·ªÅu m√¨nh y√™u th√≠ch.",
    "Ch√∫c m·ªçi ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t lu√¥n ƒë·∫øn v·ªõi b·∫°n h√¥m nay v√† m√£i m√£i! üíê"
  ];
  let opened = false;

  function createHeart() {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.bottom = Math.random() * 50 + 'px';
    heart.style.background = `hsl(${Math.random()*360}, 80%, 85%)`;
    heart.style.animation = 'floatUp 4s ease-in forwards';
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 4000);
  }

  function createFallingHeart() {
    const heart = document.createElement('div');
    heart.className = 'falling-heart';
    heart.style.left = Math.random() * 100 + 'vw';
    heart.style.background = `hsl(${Math.random() * 40 + 330}, 70%, ${Math.random() * 20 + 70}%)`;
    heart.style.animation = `heartFall ${Math.random() * 3 + 4}s linear forwards`;
    heart.style.transform = `rotate(45deg) scale(${Math.random() * 0.8 + 0.5})`;
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 7000);
  }
  setInterval(createFallingHeart, 400);

  async function showWishes() {
    wishesContainer.innerHTML = "";
    for (let i = 0; i < wishesText.length; i++) {
      const p = document.createElement("p");
      p.textContent = wishesText[i];
      p.classList.add("fade-in");
      wishesContainer.appendChild(p);
      await new Promise(res => setTimeout(res, 900));
    }
  }

  card.addEventListener("click", () => {
    if (!opened) {
      card.classList.add("open");
      bgm.play().catch(()=>{});
      showWishes();
      for (let i = 0; i < 25; i++) setTimeout(createHeart, i * 150);
      opened = true;
    } else {
      card.classList.remove("open");
      bgm.pause();
      bgm.currentTime = 0;
      opened = false;
      wishesContainer.innerHTML = "";
    }
  });

  /* Kh·∫Øc ph·ª•c l·ªói vh tr√™n mobile */
  function setFullHeight() {
    document.documentElement.style.setProperty('--vh', `${window.innerHeight * 0.01}px`);
  }
  setFullHeight();
  window.addEventListener('resize', setFullHeight);
</script>

</body>
</html>
